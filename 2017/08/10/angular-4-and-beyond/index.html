<!DOCTYPE html>
<html>

  <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Angular 4 And Beyond</title>
      <meta name="viewport" content="width=device-width">
      <meta name="description" content="I am writing here some toughts during my work in Ruby on Rails, Javascript and other">
      <link rel="shortcut icon" type="image/png" href="/assets/favicon.png"/>

      <!-- Custom CSS -->
      <link rel="stylesheet" href="/assets/css/main.css">
      <link rel="stylesheet" href="/assets/css/toc.css">

  </head>

  <body>

    <header class="site-header">

      <div class="wrap">

        <a class="site-title" href="/">duleorlovic - web developer</a>

        <nav class="site-nav">
          <a href="#" class="menu-icon">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
               viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
              <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
                h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
                h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
                c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </a>
          <div class="trigger">
            
              <a class="page-link" href="/about/">About</a>
            
              
            
              
            
              
            
          </div>
        </nav>
        <small>tools like
          <a href=" 
            /2015/04/05/common-rails-bootstrap-snippets/"
            >Rails bootstrap</a>,
          <a href=" /2015/11/09/rails-testing/">Rails testing</a>
            and <a href=" 
            /2016/04/12/rails-tips/">Rails tips</a>
          are still in use so content can be updated!
          <a href="javascript:void(0)"
            onclick="document.getElementById('mc_embed_signup').classList.toggle('active');">Notify
          me</a>
        </small>
	  <!-- Begin MailChimp Signup Form -->
	  <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
	  <style type="text/css">
		  #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
		  /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
		     We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
	  </style>
	  <div id="mc_embed_signup" class="signup-form">
	    <form action="//trk.us14.list-manage.com/subscribe/post?u=819590ae53cb08bddb952ed97&amp;id=ec1213024d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
		<div id="mc_embed_signup_scroll">
	    <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
	    <div class="mc-field-group">
		    <label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
	    </label>
		    <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
	    </div>
		    <div id="mce-responses" class="clear">
			    <div class="response" id="mce-error-response" style="display:none"></div>
			    <div class="response" id="mce-success-response" style="display:none"></div>
		    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
		<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_819590ae53cb08bddb952ed97_ec1213024d" tabindex="-1" value=""></div>
		<div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
		</div>
	    </form>
	  </div>
	  <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
	  <!--End mc_embed_signup-->

      </div>
    <!-- Html Elements for Search -->
    <div id="search-demo-container">
    <input type="text" id="search-input" placeholder="search...">
    <ul id="results-container"></ul>
    </div>

    <!-- Script pointing to jekyll-search.js -->
    <script src="/bower_components/simple-jekyll-search/dest/jekyll-search.js" type="text/javascript"></script>
    <script>
      SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
      });
    </script>

    </header>
    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>Angular 4 And Beyond</h1>
    <p class="meta">Aug 10, 2017</p>
  </header>

  <article class="post-content">
  <body><div id="toc-container"><table class="toc" id="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div><ul><li class="toc_level-1 toc_section-1"><a href="#install"><span class="tocnumber">1</span> <span class="toctext">Install</span></a></li><li class="toc_level-1 toc_section-2"><a href="#html-templates"><span class="tocnumber">2</span> <span class="toctext">HTML templates</span></a></li><li class="toc_level-1 toc_section-3"><a href="#component"><span class="tocnumber">3</span> <span class="toctext">Component</span></a></li><li class="toc_level-1 toc_section-4"><a href="#service"><span class="tocnumber">4</span> <span class="toctext">Service</span></a></li><li class="toc_level-1 toc_section-5"><a href="#routing"><span class="tocnumber">5</span> <span class="toctext">Routing</span></a></li><li class="toc_level-1 toc_section-6"><a href="#httpmodule"><span class="tocnumber">6</span> <span class="toctext">HttpModule</span></a></li><li class="toc_level-1 toc_section-7"><a href="#dependency-injection"><span class="tocnumber">7</span> <span class="toctext">Dependency injection</span></a></li><li class="toc_level-1 toc_section-8"><a href="#rxjs"><span class="tocnumber">8</span> <span class="toctext">RxJS</span></a></li></ul></td></tr></tbody></table></div><h1 id="install">Install</h1>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install -g @angular/cli
ng help | more
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ng new myapp --style=scss
cd myapp
ng serve
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add sass @types/lodash ngrx
yarn add bootstrap@4 --dev
</code></pre></div></div>

<p><em>Presentation components</em> are used only for how things look. and <em>container
components</em> how thinks works they provide data and behavior to other components
(never have any styles)</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ng generate component card --inline-template --inline-style --dry-run
</code></pre></div></div>

<h1 id="html-templates">HTML templates</h1>

<ul>
  <li><code class="highlighter-rouge">{ { title }}</code> interpolation of title (which is component property),</li>
  <li><code class="highlighter-rouge">&lt;script&gt;</code> is ignored and statements can’t refer to <code class="highlighter-rouge">window</code> or <code class="highlighter-rouge">console.log</code></li>
  <li>in interpolation (both expression and statements) you can not use <code class="highlighter-rouge">new</code>,<code class="highlighter-rouge">++</code>
or <code class="highlighter-rouge">+=</code>. This is not allowed since it has side effects.</li>
  <li>
    <p>difference between HTML attributes and DOM property is that attribute only
initialize DOM properties, so attributes can’t be changed (initial value of
input), but properties (current value) can. So in Angular we do only with
properties.
Binding targets can be: element, component, directive. There are 5 type of
binding:</p>
  </li>
  <li><strong>[property]=expression</strong> (<code class="highlighter-rouge">bind-property</code>) set img src <code class="highlighter-rouge">&lt;img
[src]="heroImageUrl"&gt;</code>, disable <code class="highlighter-rouge">&lt;button
[disabled]="isUnchanged"&gt;Cancel&lt;/button&gt;</code>, passing value <code class="highlighter-rouge">&lt;hero-detail
[hero]="currentHero"&gt;&lt;/hero-detail&gt;</code>.
    <ul>
      <li>you should not use property binding to call a method that has side effect</li>
      <li>angular first check if the name is property of known directive <code class="highlighter-rouge">&lt;div
[ndClass]="classes"&gt;&lt;/div&gt;</code> or reports “unnknown directive” error</li>
      <li>Context of the expression is instance of component, or some property of
template’s context like <em>template input variable</em> <code class="highlighter-rouge">&lt;div *ngFor="let hero of
heroes"&gt;&lt;/div&gt;</code> and <em>template reference variable</em> <code class="highlighter-rouge">&lt;input
#heroInput&gt;</code>. So there are three namespaces: template
variable, directive’s <em>context</em> object and compoments’s member name.</li>
      <li>tips: Always use simple property name or method call (with eventual <code class="highlighter-rouge">!</code>),
use component definition to define business logic.</li>
    </ul>
  </li>
  <li><strong>(event)=statement</strong> (<code class="highlighter-rouge">on-event</code>) <code class="highlighter-rouge">&lt;button (click)="onSave()")&lt;/button&gt;"</code>
    <ul>
      <li>template statement usually have side effect (while template expression not)</li>
      <li>In this event binding like <code class="highlighter-rouge">(click)="onSelect(hero)"</code> statement context is
typicaly <em>component instance</em>, but also can be templates own context
(<code class="highlighter-rouge">$event</code>, template input variable, template reference variable)</li>
      <li><code class="highlighter-rouge">$event</code> store info about event (if it is navite DOM than you can use
<code class="highlighter-rouge">$event.target.value</code>, if it belongs to directive than it could be anything)</li>
      <li>statements allow assignment <code class="highlighter-rouge">=</code> and chaining <code class="highlighter-rouge">;</code> <code class="highlighter-rouge">,</code>, but dont allow
template epression operators (<code class="highlighter-rouge">|</code> <code class="highlighter-rouge">?.</code> <code class="highlighter-rouge">!</code>)</li>
    </ul>
  </li>
  <li><strong>event and property</strong>  two way bindings <code class="highlighter-rouge">&lt;input [(ngModel)]="name"&gt;</code></li>
  <li>
    <p><code class="highlighter-rouge">&lt;input #heroName /&gt; &lt;button (click)="add(heroName.value); heroName.value=''"&gt;Add&lt;/button&gt;</code> creates local variable <code class="highlighter-rouge">heroName</code> that provides access to <code class="highlighter-rouge">input</code> element instance in all data and event binding expressions in current template.</p>
  </li>
  <li><strong>attribute</strong> (exception) <code class="highlighter-rouge">&lt;button [attr.aria-label]="help"&gt;help&lt;/button&gt;</code></li>
  <li><strong>class.name</strong> property <code class="highlighter-rouge">&lt;div [class.special]="isSpecial"&gt;&lt;/div&gt;</code> class
binding is used to add and remove <em>single</em> class.</li>
  <li>
    <p><strong>style.name</strong> property <code class="highlighter-rouge">&lt;button [style.color]="isSpecial ? 'red' : 'green'"&gt;</code></p>
  </li>
  <li><code class="highlighter-rouge">*ngFor='let hero of heroes'</code> iterate over items
<a href="https://angular.io/api/common/NgForOf">NgForOf</a> in angular 4</li>
  <li>
    <p><code class="highlighter-rouge">*ngif='heroes.lenght &gt; 3'</code> add or remove from the DOM</p>
  </li>
  <li><code class="highlighter-rouge">[(ngModel)]="currentHero.name"</code> (banana in a box) is part of <code class="highlighter-rouge">FormsModule</code>
from <code class="highlighter-rouge">@angular/forms</code> it is the same as
<code class="highlighter-rouge">(input)="currentHero.name=$event.target.value"</code> and
<code class="highlighter-rouge">[value]="currentHero.name"</code>.</li>
</ul>

<p>Redisplay occurs when some async event related to view occurs: keystroke, timer
or response to HTTP request.</p>

<h1 id="component">Component</h1>

<p>For new components, you need to declare in <code class="highlighter-rouge">@NgModule({declarations:
HeroDetailComponent]})</code>, accept input <code class="highlighter-rouge">@Input() hero: Hero</code>.</p>

<p><a href="https://angular.io/guide/lifecycle-hooks">lifecycle hooks</a></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import { OnInit } from '@angular/core';

export class AppComponent implements OnInit {
  ngOnInit(): void {
  }
}
</code></pre></div></div>

<h1 id="service">Service</h1>

<p>Add to constructor <code class="highlighter-rouge">constructor(private heroService: HeroService) { }</code> and to
<code class="highlighter-rouge">@Component({providers: [HeroService]})</code>. You can call service inside component
with <code class="highlighter-rouge">this.heroService.getHeroes()</code>.
If you move service to <code class="highlighter-rouge">@ngModule({providers: [HeroService]})</code> than every
component has access to it. Singleton <code class="highlighter-rouge">HeroService</code> instance is created.</p>

<h1 id="routing">Routing</h1>

<p><a href="https://angular.io/guide/router">https://angular.io/guide/router</a></p>

<ul>
  <li><code class="highlighter-rouge">&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> is where to show a component</li>
  <li><code class="highlighter-rouge">&lt;a routerLink="/heroes"&gt;Heroes&lt;/a&gt;</code> is used</li>
</ul>

<p>To get params use</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import { ActivatedRoute, ParamMap } from '@angular/router';
import { Location }                 from '@angular/common';
import 'rxjs/add/operator/switchMap';
export class HeroDetailComponent implements OnInit {
  constructor(
    private heroService: HeroService,
    private route: ActivatedRoute,
    private location: Location
  ) {
  }
  ngOnInit(): void {
    this.route.paramMap
      .switchMap((params: ParamMap) =&gt; this.heroService.getHero(+params.get('id')))
      .subscribe(hero =&gt; this.hero = hero);
  }
  goBack(): void {
    this.location.back();
  }
}
</code></pre></div></div>

<p>To navigate using js</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  constructor(
    private router: Router
  ) { }
  viewDetails(hero: Hero): void {
    this.router.navigate(['/detail', hero.id]);
  }
</code></pre></div></div>

<h1 id="httpmodule">HttpModule</h1>

<p>To use mock web api install:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install angular-in-memory-web-api --save
</code></pre></div></div>

<h1 id="dependency-injection">Dependency injection</h1>

<p><a href="https://angular.io/guide/dependency-injection">https://angular.io/guide/dependency-injection</a>
Class is available when you register a class with <code class="highlighter-rouge">@Injectable()</code>.
You can register a provider within <code class="highlighter-rouge">@NgModule</code> or in component’s <code class="highlighter-rouge">providers: []</code>
property. If it is registered on component, than it is available to that
component and children component (all components that are included in template
markup, or navigating with router).
The component must ask for service in its constructor (type anotation will
determine what to inject).</p>

<p>Always use <code class="highlighter-rouge">@Injectable()</code> for services (event they do not have any
dependency). <code class="highlighter-rouge">@Component</code> is subtype of <code class="highlighter-rouge">@Injectable()</code> so you do need that for
components.</p>

<p><code class="highlighter-rouge">providers: [Logger]</code> is the same as <code class="highlighter-rouge">providers: [{provide: Logger, useClass:
Logger}]</code>. First value is a key, a second is a class (could be some other
<code class="highlighter-rouge">BetterLogger</code>).</p>

<h1 id="rxjs">RxJS</h1>

<p>A <strong>Subject</strong> is a producer of an observable event stream.</p>

</body>
  </article>

  
  
  
  
    
  
  
  
  
  
  
  
  

</div>

      </div>
    </div>

    <style type='text/css'>
      .similar-links {
        display: inline-block;
        padding: 10px;
      }
    </style>
    <footer class="site-footer">

      <div class="wrap">

        <h2 class="footer-heading">duleorlovic - web developer</h2>

        <div class="footer-col-1 column">
          <ul>
            <li><a href="http://duleorlovic.github.io/tips/">short indistinct tips</a></li>
          </ul>
        </div>

        <div class="footer-col-2 column">
          <ul>
            <li>
              <a href="https://github.com/duleorlovic">
                <span class="icon github">
                  <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                    <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                    c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                    c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                    c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                    C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                    c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                    c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                    c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                    c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                  </svg>
                </span>
                <span class="username">duleorlovic</span>
              </a>
            </li>
          </ul>
        </div>

        <div class="footer-col-3 column">
          <p class="text">I am writing here some toughts during my work in Ruby on Rails, Javascript and other</p>
        </div>

      </div>

    </footer>

  </body>
</html>
