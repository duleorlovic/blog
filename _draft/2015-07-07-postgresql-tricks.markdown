[7.2. Table Expressions](http://www.postgresql.org/docs/9.4/static/queries-table-expressions.html)
[9.20. Aggregate Functions](http://www.postgresql.org/docs/9.4/static/functions-aggregate.html)
[9.8. Data Type Formatting Functions](http://www.postgresql.org/docs/9.4/static/functions-formatting.html)


Migration to create a database view https://rietta.com/blog/2013/11/28/rails-and-sql-views-for-a-report/

