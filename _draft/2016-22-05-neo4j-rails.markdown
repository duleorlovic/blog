---
title: Neo4j and Rails
---

# Commands

* delete all nodes for `>2.3.0`

  ~~~
  MATCH (n) DETACH DELETE n
  ~~~

# Neo4jrb

* [declared-relationships](https://github.com/neo4jrb/neo4j/wiki/Neo4j-v3-Declared-Relationships)
  is used to create relations automatically: `has_many :in, :posts`
  * `has_one` should be used with singular `has_many` plurals
  * first parameter can be `:in`, `:out`, `:both`
  * second set the association name (that is expected `:model_class` and
    association name = relationship `:type`)
  * `:type` override association name in neo4js
  * `:model_class` is NODE model on other end of association
  * `:rel_class` is REL model
  * `:origin` name of association in reciprocal model (so you don't need to
    write twice, often used in `:in` relations)

* when comment is destroyed than you can not get it's post, it is better to get
  it's post before 

  ~~~
    def destroy
    post = @comment.post
    @comment.destroy
    redirect_to post_path post
  end
  ~~~

# Links

* http://neo4jrb.io/ and differences with sql http://neo4j.com/product/
* http://neo4jrb.readthedocs.io/en/7.0.x/
* youtube series https://www.youtube.com/watch?v=n0P0pOP34Mw
* http://neo4j.com/developer/get-started/
* https://devchat.tv/ruby-rogues/236-rr-neo4j-with-brian-underwood
