<!DOCTYPE html>
<html>

  <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Shopify Theme</title>
      <meta name="viewport" content="width=device-width">
      <meta name="description" content="I am writing here some toughts during my work in Ruby on Rails, Javascript and other">
      <link rel="shortcut icon" type="image/png" href="/assets/favicon.png"/>

      <!-- Custom CSS -->
      <link rel="stylesheet" href="/assets/css/main.css">
      <link rel="stylesheet" href="/assets/css/toc.css">

  </head>

  <body>

    <header class="site-header">

      <div class="wrap">

        <a class="site-title" href="/">duleorlovic - web developer</a>

        <nav class="site-nav">
          <a href="#" class="menu-icon">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
               viewBox="0 0 18 15" enable-background="new 0 0 18 15" xml:space="preserve">
              <path fill="#505050" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0
                h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#505050" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484
                h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#505050" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0
                c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </a>
          <div class="trigger">
            
              <a class="page-link" href="/about/">About</a>
            
              
            
              
            
              
            
          </div>
        </nav>
        <small>tools like
          <a href=" 
            /2015/04/05/common-rails-bootstrap-snippets/"
            >Rails bootstrap</a>,
          <a href=" /2015/11/09/rails-testing/">Rails testing</a>
            and <a href=" 
            /2016/04/12/rails-tips/">Rails tips</a>
          are still in use so content can be updated!
          <a href="javascript:void(0)"
            onclick="document.getElementById('mc_embed_signup').classList.toggle('active');">Notify
          me</a>
        </small>
	  <!-- Begin MailChimp Signup Form -->
	  <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
	  <style type="text/css">
		  #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
		  /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
		     We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
	  </style>
	  <div id="mc_embed_signup" class="signup-form">
	    <form action="//trk.us14.list-manage.com/subscribe/post?u=819590ae53cb08bddb952ed97&amp;id=ec1213024d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
		<div id="mc_embed_signup_scroll">
	    <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
	    <div class="mc-field-group">
		    <label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
	    </label>
		    <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
	    </div>
		    <div id="mce-responses" class="clear">
			    <div class="response" id="mce-error-response" style="display:none"></div>
			    <div class="response" id="mce-success-response" style="display:none"></div>
		    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
		<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_819590ae53cb08bddb952ed97_ec1213024d" tabindex="-1" value=""></div>
		<div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
		</div>
	    </form>
	  </div>
	  <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
	  <!--End mc_embed_signup-->

      </div>
    <!-- Html Elements for Search -->
    <div id="search-demo-container">
    <input type="text" id="search-input" placeholder="search...">
    <ul id="results-container"></ul>
    </div>

    <!-- Script pointing to jekyll-search.js -->
    <script src="/bower_components/simple-jekyll-search/dest/jekyll-search.js" type="text/javascript"></script>
    <script>
      SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
      });
    </script>

    </header>
    <div class="page-content">
      <div class="wrap">
      <div class="post">

  <header class="post-header">
    <h1>Shopify Theme</h1>
    <p class="meta">Jun 10, 2019</p>
  </header>

  <article class="post-content">
  <body><div id="toc-container"><table class="toc" id="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2></div><ul><li class="toc_level-1 toc_section-1"><a href="#theme-customizations-with-themekit"><span class="tocnumber">1</span> <span class="toctext">Theme customizations with ThemeKit</span></a></li><li class="toc_level-1 toc_section-2"><a href="#folder-structure"><span class="tocnumber">2</span> <span class="toctext">Folder structure</span></a></li><li class="toc_level-1 toc_section-3"><a href="#sections"><span class="tocnumber">3</span> <span class="toctext">Sections</span></a></li><li class="toc_level-1 toc_section-4"><a href="#tips"><span class="tocnumber">4</span> <span class="toctext">Tips</span></a><ul><li class="toc_level-2 toc_section-5"><a href="#accessible-pagination"><span class="tocnumber">4.1</span> <span class="toctext">Accessible pagination</span></a></li><li class="toc_level-2 toc_section-6"><a href="#adding-cart-custom-properties"><span class="tocnumber">4.2</span> <span class="toctext">Adding cart custom properties</span></a></li><li class="toc_level-2 toc_section-7"><a href="#cart-permalinks"><span class="tocnumber">4.3</span> <span class="toctext">Cart permalinks</span></a></li></ul></li><li class="toc_level-1 toc_section-8"><a href="#liquid-tags"><span class="tocnumber">5</span> <span class="toctext">Liquid Tags</span></a><ul><li class="toc_level-2 toc_section-9"><a href="#tags"><span class="tocnumber">5.1</span> <span class="toctext">Tags</span></a></li><li class="toc_level-2 toc_section-10"><a href="#objects"><span class="tocnumber">5.2</span> <span class="toctext">Objects</span></a></li><li class="toc_level-2 toc_section-11"><a href="#types"><span class="tocnumber">5.3</span> <span class="toctext">Types:</span></a></li></ul></li><li class="toc_level-1 toc_section-12"><a href="#filters"><span class="tocnumber">6</span> <span class="toctext">Filters</span></a></li><li class="toc_level-1 toc_section-13"><a href="#debug"><span class="tocnumber">7</span> <span class="toctext">Debug</span></a></li><li class="toc_level-1 toc_section-14"><a href="#localization"><span class="tocnumber">8</span> <span class="toctext">Localization</span></a></li><li class="toc_level-1 toc_section-15"><a href="#environment"><span class="tocnumber">9</span> <span class="toctext">Environment</span></a></li><li class="toc_level-1 toc_section-16"><a href="#shopify-app-cli"><span class="tocnumber">10</span> <span class="toctext">Shopify app cli</span></a></li><li class="toc_level-1 toc_section-17"><a href="#tutorials"><span class="tocnumber">11</span> <span class="toctext">Tutorials</span></a></li></ul></td></tr></tbody></table></div><h1 id="theme-customizations-with-themekit">Theme customizations with ThemeKit</h1>

<p>https://www.shopify.com/partners/blog/78118150-4-essential-tips-for-building-your-first-shopify-theme
https://www.youtube.com/watch?v=1xWFsYmBoX0</p>

<p>Install with using instructions on <a href="https://shopify.github.io/themekit/">https://shopify.github.io/themekit/</a>.</p>

<p>On your store admin create private app (name could be <code class="language-plaintext highlighter-rouge">themekit</code>, email could be
your email) and in “Admin API” add <code class="language-plaintext highlighter-rouge">read/write access</code> to <em>Theme templates and
theme assets</em>. Save password to <code class="language-plaintext highlighter-rouge">SHOPIFY_PASSWORD</code> or in keys like</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># https://business-casual-theme.myshopify.com/admin/apps/private/203168317509
export SHOPIFY_STORE_URL=business-casual-theme.myshopify.com
export SHOPIFY_API_KEY=123123
export SHOPIFY_PASSWORD=123123
# minimal theme
export SHOPIFY_THEME_ID=82209210448
</code></pre></div></div>

<p>Find theme id with</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>theme get --list -p $SHOPIFY_PASSWORD -s $SHOPIFY_STORE_URL
Available theme versions:
  [177706181][live] debut
</code></pre></div></div>
<p>and save 177706181 to <code class="language-plaintext highlighter-rouge">SHOPIFY_THEME_ID</code>. Download theme with</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>theme get -p $SHOPIFY_PASSWORD -s $SHOPIFY_STORE_URL -t $SHOPIFY_THEME_ID
# this will also create config.yml with password, theme_id and store url
# so you do not need to use params (and env variables)
</code></pre></div></div>
<p>or you can create new theme based on Timber.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>theme new -p $SHOPIFY_PASSWORD -s $SHOPIFY_STORE_URL -n 'New Theme'
</code></pre></div></div>
<p>Timber template is outdated since it does not use sections or snippets so do not
use it. Better is to look ata debut (default) theme create file one by one.</p>

<p>Publish current theme_id from config.yml</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>theme publish
</code></pre></div></div>
<p>You can save some variables to <code class="language-plaintext highlighter-rouge">config.yml</code> (flags like -p will override config
values)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>theme download # fetch all files (very slow)
theme deploy # remove destination, copy all files to destination
theme open # open in browser and show url
theme watch # deploy change when it occurs, enable hooks like LiveReload
</code></pre></div></div>

<p>Watching will show eventual errors in liquid tags, wrong schema in sections…
Enable live reload https://shopify.github.io/themekit/faq/ with browser sync (I
did not try prepros)
https://medium.com/@jamesauble/auto-refresh-for-shopify-development-using-browser-sync-470b84e7e9cb
Also this issue https://github.com/Shopify/slate/issues/1055#issuecomment-633019928</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>browser-sync start --proxy https://bootstrap-business-casual-theme.myshopify.com/ --files "*/*.*" --reload-delay 1000 --config bs-config.js
</code></pre></div></div>

<h1 id="folder-structure">Folder structure</h1>

<p>Root index home page is in <code class="language-plaintext highlighter-rouge">templates/index.liquid</code>, assets goes to <code class="language-plaintext highlighter-rouge">assets</code>.
Those routes maps templates.liquid. You can use liquid object <code class="language-plaintext highlighter-rouge">routes</code> to
generate those routes https://shopify.dev/docs/themes/liquid/reference/objects/routes</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">/blogs/blog-name/article-id-handle</code> article.liquid (you can create another
new template for example <code class="language-plaintext highlighter-rouge">template/article.video.liquid</code> so on admin you can
choose one of thow two templates <code class="language-plaintext highlighter-rouge">article</code> and <code class="language-plaintext highlighter-rouge">article.video</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">/blogs/blog-name</code> blog.liquid</li>
  <li><code class="language-plaintext highlighter-rouge">/cart</code> cart.liguid <code class="language-plaintext highlighter-rouge">routes.cart_url</code>, <code class="language-plaintext highlighter-rouge">routes.cart_add_url</code>,
<code class="language-plaintext highlighter-rouge">routes.cart_change_url</code>, <code class="language-plaintext highlighter-rouge">routes.cart_clear_url</code></li>
  <li><code class="language-plaintext highlighter-rouge">/collections</code> list-collections.liquid <code class="language-plaintext highlighter-rouge">routes.collections_url</code></li>
  <li><code class="language-plaintext highlighter-rouge">/collections/collection-hadle</code> <code class="language-plaintext highlighter-rouge">/collections/collection-handle/tag</code>
collection.liquid <code class="language-plaintext highlighter-rouge">routes.all_products_collection_url</code></li>
  <li><code class="language-plaintext highlighter-rouge">/</code> index.liquid <code class="language-plaintext highlighter-rouge">routes.root_url</code></li>
  <li><code class="language-plaintext highlighter-rouge">/pages/page-handle</code> page.liquid</li>
  <li><code class="language-plaintext highlighter-rouge">/products</code> list-collections.liquid</li>
  <li><code class="language-plaintext highlighter-rouge">/products/product-handle</code> product.liquid</li>
  <li><code class="language-plaintext highlighter-rouge">/search?q=search-term</code> search.liquid <code class="language-plaintext highlighter-rouge">routes.search_url</code></li>
  <li><code class="language-plaintext highlighter-rouge">unknown</code> 404.liquid</li>
</ul>

<p>Inside template we can include small snipipet <code class="language-plaintext highlighter-rouge">snippets/social-sharing.liquid</code>
and provide params <code class="language-plaintext highlighter-rouge">{ % include 'social-sharing', share_title: product.title %}</code>
If you need user to be able to customize snippet using browser than you need to
create section with <code class="language-plaintext highlighter-rouge">schema</code>. For example they can upload logo, update copy.
For new type of section files, instead of <code class="language-plaintext highlighter-rouge">include</code> we need to use <code class="language-plaintext highlighter-rouge">render</code> like</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ % render "shopify://apps/product-reviews/snippets/star-reviews/5fb1e11a-9ef0-4898-892f-3feba729af78" %}
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">config/settings_data.json</code> and <code class="language-plaintext highlighter-rouge">config/settings_schema.json</code> are used for
global theme settings (not local section settings). For example, when you change
global background color or add dynamic section, or change some section value, it
will be saved to <code class="language-plaintext highlighter-rouge">config/settings_data.json</code>.</p>

<h1 id="sections">Sections</h1>

<p>Include section with <code class="language-plaintext highlighter-rouge">{ % section 'my-section' %}</code>.
https://www.youtube.com/watch?v=jzhsYMxUp8s
https://shopify.dev/tutorials/add-an-app-section-to-your-app note that sections
could be defined in apps, so merchant can use them without changing theme (theme
has to be sections-compatible).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># sections/my-section.liquid
&lt;div id="my-section"&gt;
  &lt;h1&gt;&lt;/h1&gt;
  &lt;h3&gt;&lt;/h3&gt;
  
&lt;/div&gt;
{ % schema %}
  {
    "name" : "My Section",
    "settings": [
      {
        "id": "header-id",
        "label": "Header text",
        "type": "text",
        "default": "Header text here"
      },
      {
        "id": "content-id",
        "label": "Content text",
        "type": "richtext",
        "default": "&lt;p&gt;Add here&lt;/p&gt;"
      }
    ],
    "blocks": [
      {
        "name": "Images",
        "type": "image",
        "settings": [
          {
          "type": "image_picker",
          "id": "image",
          "label": "Your image"
          },
          {
          "type": "text",
          "id": "image-name"
          "label": "Name of image",
          }
        ]
      }
    ]
  }
{ % endschema %}

{ % stylesheet %}
{ % endstylesheet %}

{ % javascript %}
{ % endjavascript %}
</code></pre></div></div>

<p>Home page is different because it contains <code class="language-plaintext highlighter-rouge">{ { content_for_index }}</code> which
means that it can use presets sections (sections can be added, removed,
reordered dynamically by online editor). When you define <code class="language-plaintext highlighter-rouge">presets</code> than you can
include section on home page. So for example on home page you can have both ways
(one dynamically from <code class="language-plaintext highlighter-rouge">content_for_index</code> and one statically - hardcoded
<code class="language-plaintext highlighter-rouge">section 'my_section'</code>). Note that statically included section has global data,
for example on page1 and page2 section will look the same (if you update on
page1 it will be updated on page2 since it use the same global data).
Data for settings is single (can not contain nested settings), but for blocks
user can create more than one instance of settings properties.
Example of blocks and presets:
Glossary https://shopify.dev/docs/themes/sections#glossary-of-terms
Validate json shema https://jsonlint.com/</p>

<p>https://shopify.dev/tutorials/develop-theme-use-sections
In schema you can define properties of section:</p>
<ul>
  <li>name: required, it is shown in editor sidebar</li>
  <li>class: additional css classes to <code class="language-plaintext highlighter-rouge">shopify-section</code> class</li>
  <li>tag: default is <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> it includes also the id and class, like
<code class="language-plaintext highlighter-rouge">&lt;div id="shopify-section-[id]" class="shopify-section"&gt;</code></li>
  <li>locales: define translated words</li>
  <li>max_blocks: number of block items that user can create, same effect is done
with <code class="language-plaintext highlighter-rouge">limit</code> attribute inside <code class="language-plaintext highlighter-rouge">"blocks": [ { "name": "1", "limit": 2 } ]</code>
(limit is only usefull when you have several blocks with different max length)</li>
  <li>
    <p>default: for sections that are statically included</p>
  </li>
  <li>settings is array of: https://shopify.dev/docs/themes/settings
    <ul>
      <li>id</li>
      <li>type</li>
      <li>label</li>
      <li>default (optional)</li>
      <li>info (optional, use like a placeholer)</li>
    </ul>
  </li>
  <li>blocks is array of: name, type(not sure what is this), settings (array of
elements so when adding new item, it will contain all those elements)</li>
  <li>presets is array of: name (this is shown on editor sidebar when selecting new
section), category (Look as sidebar for example categories case sensitive),
settings (object, not array) it will be assigned to the section when user adds
to a home page, it overrides default value <code class="language-plaintext highlighter-rouge">"settings": { "my-id": "Hi" }</code>,
blocks (array of objects with <code class="language-plaintext highlighter-rouge">type</code> and eventual <code class="language-plaintext highlighter-rouge">settings</code> as object) this
will assign default initial values for blocks, note that settings is object,
not array
https://shopify.github.io/liquid-code-examples/example/homepage-quotes
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;h1&gt;&lt;/h1&gt;
&lt;ul&gt;
    
&lt;/ul&gt;
{ % schema %}
  {
    "name": "Quotes",
    "settings": [
      {
        "id": "quote-header",
        "type": "text",
        "label": "Quote header label",
        "default": "Defalt value"
      }
    ],
    "blocks": [
      {
        "name": "My Quote",
        "type": "text",
        "settings": [
          {
            "type": "text",
            "id": "quote-text",
            "label": "My quote text"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Quote preset name",
        "category": "Text",
        "settings": {
          "quote-header": "My example header"
        },
        "blocks": [
          { "type": "text", "settings": { "quote-text": "My first text" }},
          { "type": "text", "settings": { "quote-text": "My second text" }}
        ]
      }
    ]
  }
{ % endschema %}
</code></pre></div>    </div>
  </li>
</ul>

<p>We can have several types:
https://shopify.dev/docs/themes/settings#input-setting-types
simple:</p>
<ul>
  <li>text, richtext</li>
  <li>image_picker (use it with <code class="language-plaintext highlighter-rouge">img_url</code> filter as <code class="language-plaintext highlighter-rouge">section.settings.my-image |
img_url: "450x450"</code>).</li>
  <li>radio for example <code class="language-plaintext highlighter-rouge">"type": "radio", "id": "display_type", "label": "Select collections to show", "default": "all", "options": [ { "value": "all", "label": "All" }, { "value": "selected", "label": "Selected" } ]</code></li>
  <li>select, checkbox, range</li>
  <li>header (this is just placeholder text on sidebar, it should have “content”
attribute)</li>
  <li>link_list (picker for menus)</li>
</ul>

<p>special:</p>
<ul>
  <li>product it is just handler, so to access actual product you need to use ``</li>
  <li>collection (it contains ‘Edit collection’ link) it is just handler, so to
access actual collection you need to use
<code class="language-plaintext highlighter-rouge">collections[block.settings.collection]</code>. Note that it could be empty so to
skip those not selected collections you need to use
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ % for block in section.blocks %}
    
  # do something with collections[block.settings.collection]
</code></pre></div>    </div>
  </li>
  <li>url</li>
  <li>page</li>
</ul>

<p>https://shopify.dev/tutorials/develop-theme-use-sections#javascript-and-stylesheet-tags
To pass custom properties to javascript, you can use
<code class="language-plaintext highlighter-rouge">data-slide-speed=""</code></p>

<h1 id="tips">Tips</h1>

<p>Design tutorials youtube list https://www.youtube.com/playlist?list=PLlMkWQ65HlcEJMRRdnqxpbGImqBkIOctd
<a href="https://shopify.github.io/liquid-code-examples/">https://shopify.github.io/liquid-code-examples/</a></p>

<h2 id="accessible-pagination">Accessible pagination</h2>

<h2 id="adding-cart-custom-properties">Adding cart custom properties</h2>

<p>You need to pass <code class="language-plaintext highlighter-rouge">properties[name-of-property]</code> to the <code class="language-plaintext highlighter-rouge">/card/add</code>. If the
<code class="language-plaintext highlighter-rouge">name-of-property</code> starts with underscore <code class="language-plaintext highlighter-rouge">_</code> than it wont be shown on checkout.
You can use
<a href="https://ui-elements-generator.myshopify.com/pages/line-item-property">https://ui-elements-generator.myshopify.com/pages/line-item-property</a>
to generate something like</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;p class="line-item-property__field"&gt;
  &lt;label&gt;Layout&lt;/label&gt;&lt;br&gt;
  &lt;input required class="required" type="radio" name="properties[Layout]" value="left"&gt; &lt;span&gt;left&lt;/span&gt;&lt;br&gt;
  &lt;input required class="required" type="radio" name="properties[Layout]" value="right"&gt; &lt;span&gt;right&lt;/span&gt;&lt;br&gt;
&lt;/p&gt;
</code></pre></div></div>

<h2 id="cart-permalinks">Cart permalinks</h2>

<p>To create checkout link (direct to give me money page). First you need to find
variant id using xml extension <code class="language-plaintext highlighter-rouge">admin/products/123.xml</code> than add to <code class="language-plaintext highlighter-rouge">/cart</code> path
comma separated list of variant-id:amount <code class="language-plaintext highlighter-rouge">/cart/123:1.456:2 </code> (note that this
will override existing cart items)</p>

<h1 id="liquid-tags">Liquid Tags</h1>

<p><a href="https://github.com/Shopify/liquid/wiki/Liquid-for-Designers">Liquid for
designers</a> and
<a href="http://shopify.github.io/liquid/">http://shopify.github.io/liquid/</a> are good for start.
<a href="https://help.shopify.com/en/themes/liquid">https://help.shopify.com/en/themes/liquid</a>
<a href="http://cheat.markdunkley.com/">http://cheat.markdunkley.com/</a> image size, product variables…</p>

<p>For new liquid features on shopify look for example at
https://shopify.dev/docs/themes/liquid/reference/filters/media-filters</p>

<h2 id="tags">Tags</h2>

<p>Tags are for programming logic</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">{ % assign my_var = [1, 2] %}</code> assigns some value to variable. instead of
checking if something is not empty you can use default, for example
``</li>
  <li><code class="language-plaintext highlighter-rouge">{ % capture my_id %} name-{ { item.name | handleize }} { % endcapture %}</code>
captures block text</li>
  <li><code class="language-plaintext highlighter-rouge">{ % include some_file, my_variable: 'some_value' %}</code> include snippet, you can
pass arguments to include and use it inside. Other way is to define variable
in parent template <code class="language-plaintext highlighter-rouge">assign my_variable = 'some_value'</code>. Or you can use keyword
<code class="language-plaintext highlighter-rouge">with</code> to assign local variable with the same name as section
<code class="language-plaintext highlighter-rouge">{ % include 'color' with 'red' %}</code> so you can use `` inside
section.</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">{ % comment %} my comment { % endcomment %}</code></p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">{ % if statement %} { % elsif false %} { % endif %}</code> statement can be
some of the operators
    <ul>
      <li>comparison <code class="language-plaintext highlighter-rouge">==</code>, <code class="language-plaintext highlighter-rouge">!=</code>, <code class="language-plaintext highlighter-rouge">&lt;=</code> (<code class="language-plaintext highlighter-rouge">product.type == 'Shirt'</code>)</li>
      <li>arrays or string <code class="language-plaintext highlighter-rouge">contains</code> (<code class="language-plaintext highlighter-rouge">product.tags contains 'outdoor'</code> or <code class="language-plaintext highlighter-rouge">unless
image contains featured_image</code>)</li>
      <li>boolean operator <code class="language-plaintext highlighter-rouge">and</code> <code class="language-plaintext highlighter-rouge">or</code> are evaluated from right to left. Note that
there is no parenthesis so you need to use order (<code class="language-plaintext highlighter-rouge">true or false and false</code>
is true) or nested <code class="language-plaintext highlighter-rouge">if</code> statements</li>
      <li>There is no negative, nor <code class="language-plaintext highlighter-rouge">!</code> so you can use <code class="language-plaintext highlighter-rouge">unless</code> in this case.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">{ % for item in array %} { % break %} { % continue %} { % endfor %}</code> for loop
    <ul>
      <li>when iterating a hash <code class="language-plaintext highlighter-rouge">item[0]</code> is key and <code class="language-plaintext highlighter-rouge">item[1]</code> is value</li>
      <li>iterating over ranges <code class="language-plaintext highlighter-rouge">{ % for i in (1..item.quantity) %}</code> or <code class="language-plaintext highlighter-rouge">{ % for
member in ste.data.members %}</code></li>
      <li>helper variables inside loop <code class="language-plaintext highlighter-rouge">forloop.length</code>, <code class="language-plaintext highlighter-rouge">forloop.index0</code>
(<code class="language-plaintext highlighter-rouge">foorloop.first</code>) <code class="language-plaintext highlighter-rouge">forloop.last</code></li>
      <li>3 optional arguments <code class="language-plaintext highlighter-rouge">{ % for item in array limit:2 offset:3 reversed %}</code></li>
      <li>you can use <code class="language-plaintext highlighter-rouge">{ % else %}</code> to show when array is empty</li>
    </ul>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">{ % cycle 'blue', 'white', 'red' %}</code> will repeat those colors, Usefull when
iterating for bootstrap row col</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    
</code></pre></div>    </div>
  </li>
  <li><code class="language-plaintext highlighter-rouge">{ % case my_var %} { % when 'dule' or 'mile' %} { % else } { % endcase %}</code></li>
  <li><code class="language-plaintext highlighter-rouge">{ % tablerow product in collection.products cols:2 limit:3 offset:2 %}</code></li>
</ul>

<h2 id="objects">Objects</h2>

<p>Objects are used to show some informations <code class="language-plaintext highlighter-rouge">{ { product.title }}</code>. You can
access page using it’s handle. Handle is automatically created based on title,
(space is replaced with dash, number is added if already exists). This two are
equivalent</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>

</code></pre></div></div>
<p>Product handle can be edited using ‘Edit website SEO’ on product page. Product
handle determines url ie path after <code class="language-plaintext highlighter-rouge">/products/product-handle</code>.</p>

<p>Global variables on shopify are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">all_products['short'].title</code></li>
  <li><code class="language-plaintext highlighter-rouge">articles['news/hello']</code></li>
  <li><code class="language-plaintext highlighter-rouge">blogs.myblog.articles</code></li>
  <li><code class="language-plaintext highlighter-rouge">cart</code> for example <code class="language-plaintext highlighter-rouge">cart.item_count</code>. You can add input for notes
<code class="language-plaintext highlighter-rouge">name="note"</code></li>
  <li><code class="language-plaintext highlighter-rouge">collections.frontpage.products</code></li>
  <li><code class="language-plaintext highlighter-rouge">collection</code> inside collection template you can use <code class="language-plaintext highlighter-rouge">collection</code></li>
  <li><code class="language-plaintext highlighter-rouge">current_page</code> if available on paginated content</li>
  <li><code class="language-plaintext highlighter-rouge">current_tags</code></li>
  <li><code class="language-plaintext highlighter-rouge">customer</code></li>
  <li><code class="language-plaintext highlighter-rouge">linklists</code> for example <code class="language-plaintext highlighter-rouge">for link in linklists.main-menu.links</code>, <code class="language-plaintext highlighter-rouge">link.url</code>,
<code class="language-plaintext highlighter-rouge">link.active</code>, <code class="language-plaintext highlighter-rouge">link.title</code>, <code class="language-plaintext highlighter-rouge">link.links</code></li>
  <li><code class="language-plaintext highlighter-rouge">images</code></li>
  <li><code class="language-plaintext highlighter-rouge">pages</code></li>
  <li><code class="language-plaintext highlighter-rouge">page_description</code> description of product, page or collection that is rendered</li>
  <li><code class="language-plaintext highlighter-rouge">page_title</code> usually the name of product, page or collection, can be
overridden with page title in <em>Search enging listing preview</em> section</li>
  <li><code class="language-plaintext highlighter-rouge">product</code> (in <code class="language-plaintext highlighter-rouge">template/product.liquid</code>)
https://shopify.dev/docs/themes/liquid/reference/objects/product
<code class="language-plaintext highlighter-rouge">product.selected_or_first_available_variant</code> first or based on <code class="language-plaintext highlighter-rouge">?variant</code>
parameter (also boolean <code class="language-plaintext highlighter-rouge">product.has_only_default_variant</code>)
<code class="language-plaintext highlighter-rouge">product.options_with_values</code> returns some json with “name” and “values”
<code class="language-plaintext highlighter-rouge">[{"name":"Size","position":1,"values":["single","double","triple"]}]</code>
<code class="language-plaintext highlighter-rouge">product.variants</code> returns array of variant objects (number_of_values ** per
each option), each variant has <code class="language-plaintext highlighter-rouge">variant.option1</code> and <code class="language-plaintext highlighter-rouge">variant.option2</code> and
<code class="language-plaintext highlighter-rouge">variant.option3</code>.
<code class="language-plaintext highlighter-rouge">product.url</code> is path (domain is in <code class="language-plaintext highlighter-rouge">shop.url</code>) you can reference product
inside collection using ``</li>
  <li><code class="language-plaintext highlighter-rouge">cart_item</code> is line_item of <code class="language-plaintext highlighter-rouge">cart.items</code>, it contains
<code class="language-plaintext highlighter-rouge">item.options_with_values</code> array of hash for each variant type
<code class="language-plaintext highlighter-rouge">[{"name":"Size","value":"double"},{"name":"Color","value":"Red"}]</code></li>
  <li><code class="language-plaintext highlighter-rouge">recommendations</code></li>
  <li><code class="language-plaintext highlighter-rouge">settings</code> global settings object from <code class="language-plaintext highlighter-rouge">config/settings_schema.json</code></li>
  <li><code class="language-plaintext highlighter-rouge">template</code> name without .liquid, used like <code class="language-plaintext highlighter-rouge">&lt;body class=''&gt;</code></li>
  <li><code class="language-plaintext highlighter-rouge">handle</code> returns handle for blogs, articles, collections, pages and products</li>
  <li><code class="language-plaintext highlighter-rouge">canonical_url</code> return url without parametars (like collection or variant
selected)</li>
  <li><code class="language-plaintext highlighter-rouge">shop</code>, for example <code class="language-plaintext highlighter-rouge">shop.url</code></li>
</ul>

<p>There are three content objects that need to be included in layout files:
<code class="language-plaintext highlighter-rouge">content_for_header</code> (inside <code class="language-plaintext highlighter-rouge">&lt;head&gt;</code> used for plugins) and <code class="language-plaintext highlighter-rouge">content_for_layout</code>
(similar to yield, in <code class="language-plaintext highlighter-rouge">theme.liquid</code> inside <code class="language-plaintext highlighter-rouge">&lt;body&gt;</code>) and <code class="language-plaintext highlighter-rouge">content_for_index</code>
(in <code class="language-plaintext highlighter-rouge">templates/index.liquid</code> which is landing page and is used for dynamic
sections which can be edited with theme editor).</p>

<p>You can create another <code class="language-plaintext highlighter-rouge">layout/second_layout.liquid</code> file and instruct template
to use it (for <code class="language-plaintext highlighter-rouge">templates/404.liquid</code> you can use another layout)</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># templates/product.liquid
{ % layout "second_layout.liquid" %}
</code></pre></div></div>

<p>To include assets you can use filters. Note that you can not have subdirectories
subfolders under assets folder so all files should be inside same directory,</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># layout/theme.liquid
  application.scss.css
  application.js

  # or if you need custom attribute like defer, you can use
  &lt;script src="theme.js" defer="defer"&gt;&lt;/script&gt;
</code></pre></div></div>

<h2 id="types">Types:</h2>

<ul>
  <li>boolean, nil, string, number, array, hash and EmptyDrop</li>
  <li>number can be incremented <code class="language-plaintext highlighter-rouge">{ % increment my_int %}</code> or <code class="language-plaintext highlighter-rouge">{ % decrement
my_int %}</code></li>
  <li>range is defined similar to ruby <code class="language-plaintext highlighter-rouge">{ % for i in (1..my_int) %}</code></li>
  <li>to use sum operation, for example add two number you can use</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{ % for i in (1..number_of_columns) %}
</code></pre></div></div>

<ul>
  <li>array elements can be accessed only like <code class="language-plaintext highlighter-rouge">my_array[2]</code></li>
  <li>hash elements can be accessed with <code class="language-plaintext highlighter-rouge">my_hash['name']</code> or <code class="language-plaintext highlighter-rouge">my_hash.name</code></li>
  <li>you can call <code class="language-plaintext highlighter-rouge">my_array.size</code> or <code class="language-plaintext highlighter-rouge">my_hash.size</code></li>
  <li>all yml files from <code class="language-plaintext highlighter-rouge">_data</code> folder will be available under
<code class="language-plaintext highlighter-rouge">site.data.file_name.item</code></li>
  <li>emptydropt exists when you access non existing object
<code class="language-plaintext highlighter-rouge">pages.this-handle-does-not-exists</code></li>
  <li>to check if object exists you can use
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  
</code></pre></div>    </div>
    <p>or for strings you can use <code class="language-plaintext highlighter-rouge">blank</code></p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  
</code></pre></div>    </div>
  </li>
  <li>to remove empty line around command tags you can use minus <code class="language-plaintext highlighter-rouge">{ %- -%}</code></li>
</ul>

<h1 id="filters">Filters</h1>

<p>Filters or pipes is used to process data inside <code class="language-plaintext highlighter-rouge">{ { }}</code>. Filter nam could be
followed with colon <code class="language-plaintext highlighter-rouge">:</code> to pass additinal params, for example <code class="language-plaintext highlighter-rouge">{ { page.path |
split: '/' | first | alert }}</code></p>

<ul>
  <li><a href="https://help.shopify.com/themes/liquid/filters/string-filters">strings</a>
<code class="language-plaintext highlighter-rouge">append</code>, <code class="language-plaintext highlighter-rouge">prepend</code>, <code class="language-plaintext highlighter-rouge">capitalize</code>, <code class="language-plaintext highlighter-rouge">date</code>, <code class="language-plaintext highlighter-rouge">escape</code>, <code class="language-plaintext highlighter-rouge">lstrip</code>, <code class="language-plaintext highlighter-rouge">replace</code>,
<code class="language-plaintext highlighter-rouge">strip_html</code>, <code class="language-plaintext highlighter-rouge">truncate</code>, <code class="language-plaintext highlighter-rouge">url_encode</code>, <code class="language-plaintext highlighter-rouge">remove</code>, <code class="language-plaintext highlighter-rouge">remove_last</code>
To create id or class from title (ie replace space with dash), you can use
filter handleize or handle <code class="language-plaintext highlighter-rouge">id={ { page_title | handle }}</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">{ { page.date| date: 'B %d, %Y' }}</code> or <code class="language-plaintext highlighter-rouge">{ { page.date | date_to_string }}</code>
or <code class="language-plaintext highlighter-rouge">{ { page.date | date: '%d-%m-%Y]]</code></li>
  <li><a href="https://help.shopify.com/themes/liquid/filters/array-filters">arrays</a>
<code class="language-plaintext highlighter-rouge">first</code>, <code class="language-plaintext highlighter-rouge">join</code>, <code class="language-plaintext highlighter-rouge">last</code>, <code class="language-plaintext highlighter-rouge">map</code>, <code class="language-plaintext highlighter-rouge">reverse</code>, <code class="language-plaintext highlighter-rouge">size</code>, <code class="language-plaintext highlighter-rouge">slice</code>, <code class="language-plaintext highlighter-rouge">uniq</code>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">map</code> uses string as argument (<code class="language-plaintext highlighter-rouge">" "</code> are required). Another example is
<a href="https://shopify.github.io/liquid/filters/map/">liquid github</a></li>
      <li>create array with <code class="language-plaintext highlighter-rouge">{ % assign my_array = "ants, bugs, bees, bugs, ants" |
split: ", " %}</code></li>
      <li>append to array in for loop you can use two approaches <code class="language-plaintext highlighter-rouge">capture</code> or <code class="language-plaintext highlighter-rouge">append</code>
with a <code class="language-plaintext highlighter-rouge">split</code>.  Note that you can only create array of string. There is
<code class="language-plaintext highlighter-rouge">concat</code> filter that joins two arrays, but you can not create array of
object, you can create only array of strings.
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># first approach is using append (preferred)
    
    
    

# another approach is using capture
    
    
</code></pre></div>        </div>
      </li>
      <li>filter array using where condition
https://shopify.github.io/liquid/filters/where/
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>assign row_of_variants = product.variants | where: "option1", value_of_first_option_with_values
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><a href="https://help.shopify.com/en/themes/liquid/filters/url-filters#img_url">url</a>
like <code class="language-plaintext highlighter-rouge">article | img_url: '400x300' | img_tag: article.title</code> (width*height, if
request “400x300” is smaller than original image’s dimension, shopify will
scale the image for you and serve that scalled image). For product img_url
will use featured image. If no dimension is specified, it will be small
100x100 so better is to use specific size (original image will preserve aspect
ration when it is scalled down, shopify will never scale up image). You can
also use crop and scale filter.</li>
  <li>money (convert cents to number and currency) <code class="language-plaintext highlighter-rouge">variant.price | money</code></li>
</ul>

<p>If you need to assign filter output to variable you can use <code class="language-plaintext highlighter-rouge">{ % capture
my_var %} { { var | my_filter }} { % endcapture %}</code> or use it inside 
assign tag <code class="language-plaintext highlighter-rouge">{ % assign all_categories = site.posts | map: "categories" %}</code>.</p>

<h1 id="debug">Debug</h1>

<p>Debug liquid is simply output <code class="language-plaintext highlighter-rouge">{ { my_var | inspect }}</code> or with objects you can
use <code class="language-plaintext highlighter-rouge">{ { product.variants | json }}</code></p>

<p>Somehow if I use <code class="language-plaintext highlighter-rouge">contains_</code> variable name</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ % assign contains_sidebar = true %}
{ { contains_sidebar }}
</code></pre></div></div>

<p>than I got error like:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[:comparison, "contains"] is not a valid expression in "contains_sidebar ==
false" in /_layouts/page.html`
</code></pre></div></div>

<p>Sho I rename variable <code class="language-plaintext highlighter-rouge">{ % assign show_sidebar = true %}</code></p>

<h1 id="localization">Localization</h1>

<p>https://shopify.dev/tutorials/develop-theme-localization-use-translation-keys
i18n</p>

<p>Translated content is escaped by default (any html like <code class="language-plaintext highlighter-rouge">&lt;</code> is converted to
equivalent) so if you need raw html than use capture</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># theme.liquid

&lt;h1&gt;layout.header.welcome&lt;/h1&gt;
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># locales/en.default.json
{
  "layout": {
    "header": {
    "support_link": "support",
    "welcome": "Welcome to my store. Please contact 
  &lt;a href="https://support.mystore.com"&gt;layout.header.support_link&lt;/a&gt;
 should you
      need any assistance."
    }
  }
}
</code></pre></div></div>

<h1 id="environment">Environment</h1>

<p>You can switch theme id in <code class="language-plaintext highlighter-rouge">config.yml</code> so you can <code class="language-plaintext highlighter-rouge">theme download</code> or <code class="language-plaintext highlighter-rouge">theme
deploy</code>.</p>

<h1 id="shopify-app-cli">Shopify app cli</h1>

<p>Install based on instructions on https://shopify.github.io/shopify-app-cli/</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>eval "$(curl -sS https://raw.githubusercontent.com/Shopify/shopify-app-cli/master/install.sh)"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>shopify create
shopify serve
</code></pre></div></div>

<p>but I receive an error https://github.com/Shopify/shopify-app-cli/issues/463</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.shopify-app-cli/lib/shopify-cli/tasks/update_dashboard_urls.rb:12:in `call': undefined method `[]' for nil:NilClass (NoMethodError)
</code></pre></div></div>
<p>When I <code class="language-plaintext highlighter-rouge">shopify logout</code> than I receive</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/home/orlovic/.shopify-app-cli/lib/shopify-cli/tasks/update_dashboard_urls.rb:27:in `check_application_url': undefined method `match' for nil:NilClass (NoMethodError)
</code></pre></div></div>

<p>Note that this is not the same as gem <code class="language-plaintext highlighter-rouge">shopify</code> (which does not include cli).</p>

<h1 id="tutorials">Tutorials</h1>

<p>Videos:
Shopify Partners https://www.youtube.com/channel/UCcYsEEKJtpxoO9T-keJZrEw
for example Getting Started with Shopfy Themes https://www.youtube.com/watch?v=-IGvYvL86_M</p>

<p>Partner academy:
https://partner-training.shopify.com/catalog
https://partner-training.shopify.com/outline/r5uxatsx/cover
https://partner-training.shopify.com/outline/uhxkymdg/cover</p>

<p>TODO:
https://www.shopify.com/partners/blog/the-essential-list-of-resources-for-shopify-app-development</p>

</body>
  </article>

  
  
  
  
    
  
  
  
  
  
  
  
  

</div>

      </div>
    </div>

    <style type='text/css'>
      .similar-links {
        display: inline-block;
        padding: 10px;
      }
    </style>
    <footer class="site-footer">

      <div class="wrap">

        <h2 class="footer-heading">duleorlovic - web developer</h2>

        <div class="footer-col-1 column">
          <ul>
            <li><a href="http://duleorlovic.github.io/tips/">short indistinct tips</a></li>
          </ul>
        </div>

        <div class="footer-col-2 column">
          <ul>
            <li>
              <a href="https://github.com/duleorlovic">
                <span class="icon github">
                  <svg version="1.1" class="github-icon-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                     viewBox="0 0 16 16" enable-background="new 0 0 16 16" xml:space="preserve">
                    <path fill-rule="evenodd" clip-rule="evenodd" fill="#C2C2C2" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761
                    c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32
                    c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472
                    c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037
                    C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65
                    c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261
                    c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082
                    c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129
                    c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                  </svg>
                </span>
                <span class="username">duleorlovic</span>
              </a>
            </li>
          </ul>
        </div>

        <div class="footer-col-3 column">
          <p class="text">I am writing here some toughts during my work in Ruby on Rails, Javascript and other</p>
        </div>

      </div>

    </footer>

  </body>
</html>
